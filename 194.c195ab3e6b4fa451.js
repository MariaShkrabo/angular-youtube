"use strict";(self.webpackChunkangular_youtube=self.webpackChunkangular_youtube||[]).push([[194],{6194:(x,a,c)=>{c.r(a),c.d(a,{HistoryModule:()=>O});var r=c(8252),t=c(4650),d=c(4004),g=c(2340),h=c(529);let p=(()=>{class o{constructor(e){this._http=e,this._videoUrl=`${g.N.endpoints.videos.getVideo}`}getVideo(e){return this._http.get(`${this._videoUrl}&id=${e}`).pipe((0,d.U)(n=>n.items.map(s=>({id:s.id,snippet:{title:s.snippet.title,description:s.snippet.description,thumbnails:{high:{url:s.snippet.thumbnails.high.url}},channelTitle:s.snippet.channelTitle,channelId:s.snippet.channelId,publishedAt:s.snippet.publishedAt},statistics:{viewCount:s.statistics.viewCount,likeCount:s.statistics.likeCount,commentCount:s.statistics.commentCount}}))))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(h.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var l=c(6895),_=c(7656);const y=function(o){return["/video-page",o]};function u(o,i){if(1&o&&(t.TgZ(0,"div",11),t._UZ(1,"video-list-item",12),t.TgZ(2,"p",13),t._uU(3),t.qZA()()),2&o){const e=i.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("routerLink",t.VKq(4,y,e.id))("isGrid",!1)("item",e),t.xp6(2),t.hij("Watched at ",n.localStorageWatchedVideos[e.id],"")}}function m(o,i){if(1&o&&(t.TgZ(0,"div",9),t.YNc(1,u,4,6,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.watchedVideos)}}function f(o,i){1&o&&(t.TgZ(0,"h2",14),t._uU(1," No watched videos "),t.qZA())}const v=[{path:"",component:(()=>{class o{constructor(e,n){this._historyService=e,this._router=n,this.watchedVideos=[],this.localStorageWatchedVideos={}}ngOnInit(){null!==localStorage.getItem("watchedVideos")&&(this.localStorageWatchedVideos=JSON.parse(localStorage.getItem("watchedVideos"))),Object.keys(this.localStorageWatchedVideos).forEach(e=>this._historyService.getVideo(e).subscribe(n=>{this.watchedVideos.push(n[0])}))}clearWatchHistory(){localStorage.removeItem("watchedVideos"),this._router.navigate(["/search-page"])}clearSearchHistory(){localStorage.removeItem("searchHistory"),this._router.navigate(["/search-page"])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p),t.Y36(r.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-history"]],decls:18,vars:2,consts:[[1,"history-page"],[1,"history-page__info-section"],[1,"info-section__title"],["class","info-section__videos-collection",4,"ngIf"],["class","info-section__no-video-msg",4,"ngIf"],[1,"history-page__tools-section"],[1,"tools-section__clear-watch-history","history-tool",3,"click"],[1,"material-icons"],[1,"tools-section__clear-search-history","history-tool",3,"click"],[1,"info-section__videos-collection"],["class","videos-collection__video-item",4,"ngFor","ngForOf"],[1,"videos-collection__video-item"],[3,"routerLink","isGrid","item"],[1,"date"],[1,"info-section__no-video-msg"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),t._uU(3,"Watch history"),t.qZA(),t.YNc(4,m,2,1,"div",3),t.YNc(5,f,2,0,"h2",4),t.qZA(),t.TgZ(6,"div",5)(7,"div")(8,"div",6),t.NdJ("click",function(){return n.clearWatchHistory()}),t.TgZ(9,"span",7),t._uU(10,"delete_forever"),t.qZA(),t.TgZ(11,"p"),t._uU(12,"Clear watch history"),t.qZA()(),t.TgZ(13,"div",8),t.NdJ("click",function(){return n.clearSearchHistory()}),t.TgZ(14,"span",7),t._uU(15,"delete_forever"),t.qZA(),t.TgZ(16,"p"),t._uU(17,"Clear search history"),t.qZA()()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",n.watchedVideos.length),t.xp6(1),t.Q6J("ngIf",!n.watchedVideos.length))},dependencies:[l.sg,l.O5,_.X,r.rH],styles:[".history-page[_ngcontent-%COMP%]{position:relative;display:flex}.history-page__info-section[_ngcontent-%COMP%]{margin-top:30px;display:flex;flex-direction:column;align-items:center;justify-content:center;width:60%}@media (max-width: 800px){.history-page__info-section[_ngcontent-%COMP%]{width:70%}}.history-page__info-section[_ngcontent-%COMP%]   .info-section__videos-collection[_ngcontent-%COMP%]{margin:20px 0 50px;max-width:80%;display:flex;flex-direction:column}.history-page__info-section[_ngcontent-%COMP%]   .info-section__videos-collection[_ngcontent-%COMP%]   .videos-collection__video-item[_ngcontent-%COMP%]{margin-top:30px;width:100%}.history-page__info-section[_ngcontent-%COMP%]   .info-section__videos-collection[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:20px;color:#606060}.history-page__info-section[_ngcontent-%COMP%]   .info-section__no-video-msg[_ngcontent-%COMP%]{margin-top:50px;font-style:italic;font-weight:400}.history-page[_ngcontent-%COMP%]   .history-page__tools-section[_ngcontent-%COMP%]{position:fixed;height:100vh;right:0;width:40%;background:rgb(245,245,245);display:flex;align-items:center;justify-content:center;padding:0 20px}@media (max-width: 800px){.history-page[_ngcontent-%COMP%]   .history-page__tools-section[_ngcontent-%COMP%]{width:30%;align-items:flex-start;padding-top:200px}}.history-page[_ngcontent-%COMP%]   .history-page__tools-section[_ngcontent-%COMP%]   .history-tool[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;margin-bottom:40px;color:gray}.history-page[_ngcontent-%COMP%]   .history-page__tools-section[_ngcontent-%COMP%]   .history-tool[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:18px}.history-page[_ngcontent-%COMP%]   .history-page__tools-section[_ngcontent-%COMP%]   .history-tool[_ngcontent-%COMP%]:hover{color:#3b393a}"]}),o})()}];let C=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[r.Bz.forChild(v),r.Bz]}),o})();var M=c(4466);let O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[M.m,C]}),o})()}}]);